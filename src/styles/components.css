/* ── FONT SIZE CONTROL ─────────────────────────── */
.fs-btn {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--muted);
  padding: 5px 9px;
  cursor: pointer;
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 13px;
  letter-spacing: -0.5px;
  transition: border-color 0.15s, color 0.15s;
  white-space: nowrap;
  line-height: 1;
}
.fs-btn:hover { border-color: var(--accent); color: var(--accent); }
.fs-popover {
  position: fixed;
  top: 54px;
  right: 16px;
  z-index: 9999;
  background: var(--surface2);
  border: 1px solid var(--border);
  padding: 14px 18px 16px;
  width: 230px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.6);
  display: none;
}
.fs-popover.on { display: block; }
.fs-popover-title {
  font-size: 9px;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: var(--muted);
  margin-bottom: 12px;
}
.fs-row {
  display: flex;
  align-items: center;
  gap: 10px;
}
.fs-label-sm { font-size: 11px; color: var(--muted); font-family: 'DM Mono', monospace; }
.fs-label-lg { font-size: 16px; color: var(--muted); font-family: 'DM Mono', monospace; }
input[type="range"].fs-slider {
  flex: 1;
  -webkit-appearance: none;
  appearance: none;
  height: 4px;
  background: var(--border);
  border-radius: 2px;
  outline: none;
  cursor: pointer;
}
input[type="range"].fs-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 16px;
  height: 16px;
  background: var(--accent);
  border-radius: 50%;
  cursor: pointer;
  transition: transform 0.1s;
}
input[type="range"].fs-slider::-webkit-slider-thumb:hover { transform: scale(1.2); }
input[type="range"].fs-slider::-moz-range-thumb {
  width: 16px; height: 16px;
  background: var(--accent);
  border-radius: 50%;
  border: none;
  cursor: pointer;
}
.fs-presets {
  display: flex;
  gap: 6px;
  margin-top: 10px;
}
.fs-preset {
  flex: 1;
  padding: 5px 0;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--muted);
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  cursor: pointer;
  transition: border-color 0.15s, color 0.15s;
  text-align: center;
}
.fs-preset:hover { border-color: var(--accent); color: var(--accent); }
.fs-preset.active { border-color: var(--accent); color: var(--accent); background: rgba(87,200,255,0.06); }

.fs-font-opt {
  padding: 10px 8px;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--muted);
  cursor: pointer;
  text-align: center;
  transition: border-color 0.15s, color 0.15s;
}
.fs-font-opt:hover { border-color: var(--border2); color: var(--text); }
.fs-font-opt.active { border-color: var(--accent); color: var(--accent); background: rgba(87,200,255,0.06); }

/* BUTTONS */
.btn-primary {
  background: var(--accent); color: #0a0a0f;
  border: none; padding: 9px 20px;
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 12px;
  cursor: pointer; letter-spacing: 0.5px; transition: all 0.15s;
  clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));
  white-space: nowrap;
}
.btn-primary:hover { background: #70d4ff; transform: translateY(-1px); }

.btn-secondary {
  background: transparent; border: 1px solid var(--border2);
  color: var(--muted2); padding: 8px 14px;
  font-family: 'DM Mono', monospace; font-size: 12px;
  cursor: pointer; transition: all 0.15s; white-space: nowrap;
}
.btn-secondary:hover { border-color: var(--muted); color: var(--text); }

.btn-danger {
  background: rgba(255,71,87,0.1); border: 1px solid rgba(255,71,87,0.3);
  color: var(--danger); padding: 7px 14px;
  font-family: 'DM Mono', monospace; font-size: 11px;
  cursor: pointer; transition: all 0.15s; white-space: nowrap;
}
.btn-danger:hover { background: rgba(255,71,87,0.18); }

.btn-primary:focus, .btn-secondary:focus, .act-btn:focus, .stepper-btn:focus, .nav-tab:focus, .drawer-tab:focus { outline:2px solid var(--accent); outline-offset:2px; }
:focus-visible { outline:2px solid var(--accent); outline-offset:2px; }

/* FORMS */
.fgrp      { display:flex; flex-direction:column; gap:5px; }
.fgrp.full { grid-column:1/-1; }
label { font-size:10px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); }
input,select,textarea { background:var(--surface); border:1px solid var(--border); color:var(--text); padding:9px 12px; font-family:'DM Mono',monospace; font-size:12px; outline:none; transition:border-color 0.15s; width:100%; }
input:focus,select:focus,textarea:focus { border-color:var(--accent); }
/* iOS Safari date/number inputs ignore width:100% without this */
input[type="date"], input[type="number"], input[type="text"], input[type="email"] {
  -webkit-appearance: none;
  appearance: none;
  max-width: 100%;
}
select option { background:var(--surface2); }
textarea { resize:vertical; min-height:70px; }

.form-grid { display:grid; grid-template-columns:1fr 1fr; gap:12px; }

/* TAGS */
.cat-tag   { font-size:9px; padding:2px 6px; border-radius:2px; background:rgba(123,97,255,0.15); color:var(--accent3); text-transform:uppercase; letter-spacing:0.5px; }

.platform-tag { display:inline-block; font-size:10px; padding:3px 8px; font-weight:500; text-transform:uppercase; letter-spacing:0.5px; }
.plt-ebay     { background:rgba(255,107,53,0.15);  color:var(--accent2); }
.plt-amazon   { background:rgba(255,184,0,0.12);   color:var(--warn); }
.plt-etsy     { background:rgba(123,97,255,0.15);  color:var(--accent3); }
.plt-fb       { background:rgba(87,255,154,0.12);  color:var(--good); }
.plt-depop    { background:rgba(255,71,87,0.13);   color:#ff4757; }
.plt-poshmark { background:rgba(220,53,69,0.13);   color:#e63950; }
.plt-mercari  { background:rgba(60,179,113,0.15);  color:#3cb371; }
.plt-grailed  { background:rgba(87,200,255,0.12);  color:var(--accent); }
.plt-stockx   { background:rgba(0,188,255,0.13);   color:#00bcff; }
.plt-vinted   { background:rgba(9,182,109,0.15);   color:#09b66d; }
.plt-craigslist { background:rgba(100,149,237,0.15); color:#6495ed; }
.plt-offerup  { background:rgba(80,200,120,0.15);  color:#50c878; }
.plt-whatnot  { background:rgba(155,89,182,0.15);  color:#9b59b6; }
.plt-tiktok   { background:rgba(255,0,80,0.13);    color:#ff0050; }
.plt-shopify  { background:rgba(149,191,71,0.15);  color:#95bf47; }
.plt-swappa   { background:rgba(0,174,239,0.13);   color:#00aeef; }
.plt-decluttr { background:rgba(255,140,0,0.13);   color:#ff8c00; }
.plt-goat     { background:rgba(87,200,255,0.12);  color:var(--accent); }
.plt-realreal { background:rgba(180,180,180,0.15); color:#b4b4b4; }
.plt-vestiaire{ background:rgba(212,175,55,0.15);  color:#d4af37; }
.plt-reverb   { background:rgba(0,150,255,0.13);   color:#0096ff; }
.plt-discogs  { background:rgba(255,165,0,0.13);   color:#ffa500; }
.plt-instagram{ background:rgba(228,64,95,0.13);   color:#e4405f; }
.plt-walmart  { background:rgba(0,113,206,0.13);   color:#0071ce; }
.plt-newegg   { background:rgba(255,90,0,0.13);    color:#ff5a00; }
.plt-bonanza  { background:rgba(255,200,0,0.12);   color:#ffc800; }
.plt-chairish { background:rgba(139,90,43,0.15);   color:#8b5a2b; }
.plt-1stdibs  { background:rgba(180,148,111,0.15); color:#b4946f; }
.plt-nextdoor { background:rgba(0,172,79,0.15);    color:#00ac4f; }
.plt-tradesy  { background:rgba(255,105,180,0.13); color:#ff69b4; }
.plt-other    { background:rgba(87,200,255,0.12);  color:var(--accent); }

.plat-tag {
  font-size:9px;
  padding:2px 6px;
  border-radius:2px;
  background:rgba(123,97,255,0.15);
  color:var(--accent3);
  text-transform:uppercase;
  letter-spacing:0.5px;
}

.cond-tag {
  background: var(--surface2); border: 1px solid var(--border); color: var(--muted);
  font-family: 'DM Mono', monospace; font-size: 10px; padding: 4px 10px;
  cursor: pointer; transition: all 0.15s; user-select: none;
}
.cond-tag:hover { border-color: var(--border2); color: var(--text); }
.cond-tag.active { background: rgba(87,200,255,0.1); border-color: var(--accent); color: var(--accent); font-weight: 600; }

/* FILTER CHIP */
.filter-chip {
  font-size:10px; padding:5px 10px; border:1px solid var(--border);
  color:var(--muted); cursor:pointer; transition:all 0.15s;
  text-transform:uppercase; letter-spacing:0.8px; white-space:nowrap;
}
.filter-chip:hover,.filter-chip.active { border-color:var(--accent); color:var(--accent); }
.filter-chip:focus { outline:2px solid var(--accent); outline-offset:2px; }

.plat-group-divider {
  font-size:9px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:var(--border2);
  display:flex;
  align-items:center;
  white-space:nowrap;
  padding:0 4px;
  user-select:none;
}
.plat-dot {
  display:inline-block;
  width:5px;
  height:5px;
  border-radius:50%;
  background:var(--accent);
  margin-right:5px;
  flex-shrink:0;
  vertical-align:middle;
  position:relative;
  top:-1px;
}

/* ACTION BUTTON */
.act-btn { background:transparent; border:1px solid var(--border); color:var(--muted); padding:5px 10px; font-family:'DM Mono',monospace; font-size:11px; cursor:pointer; transition:all 0.15s; white-space:nowrap; }
.act-btn:hover { border-color:var(--accent); color:var(--accent); }
.act-btn.red  { border-color:rgba(255,71,87,0.25); color:var(--danger); }
.act-btn.red:hover { border-color:var(--danger); background:rgba(255,71,87,0.08); }
.td-acts { display:flex; gap:6px; justify-content:flex-end; }

/* STEPPER */
.stock-cell { display:flex; align-items:center; gap:8px; }
.stepper    { display:flex; align-items:center; gap:4px; }
.stepper-btn {
  width:22px; height:22px; background:var(--surface2); border:1px solid var(--border2);
  color:var(--text); cursor:pointer; font-size:16px;
  display:flex; align-items:center; justify-content:center;
  transition:all 0.12s; line-height:1;
}
.stepper-btn:hover { border-color:var(--accent); color:var(--accent); }
.stepper-val { font-family:'Syne',sans-serif; font-weight:700; font-size:13px; min-width:26px; text-align:center; }
.sv-ok  { color:var(--good); }
.sv-warn{ color:var(--warn); }
.sv-low { color:var(--danger); }
.mini-bar { width:46px; height:3px; background:var(--border); border-radius:2px; overflow:hidden; }
.mb-fill  { height:100%; border-radius:2px; }
.mf-ok  { background:var(--good); }
.mf-warn{ background:var(--warn); }
.mf-low { background:var(--danger); }

/* INLINE PRICE */
.price-disp { cursor:pointer; border-bottom:1px dashed transparent; transition:border-color 0.15s; display:inline-block; }
.price-disp:hover { border-color:var(--muted); }
.price-inp {
  background:var(--surface2); border:1px solid var(--accent); color:var(--text);
  padding:3px 7px; font-family:'DM Mono',monospace; font-size:12px; width:80px; outline:none;
}

.margin-badge { font-size:10px; padding:3px 7px; font-weight:500; }
.mb-high { background:rgba(87,255,154,0.12); color:var(--good); }
.mb-mid  { background:rgba(255,184,0,0.12);  color:var(--warn); }
.mb-low  { background:rgba(255,71,87,0.12);  color:var(--danger); }

.out-badge { font-size:10px; padding:3px 7px; background:rgba(255,71,87,0.1); color:var(--danger); border:1px solid rgba(255,71,87,0.25); animation:pulse 2s ease infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.55} }

/* PROFIT PREVIEW */
.profit-prev { background:var(--surface); border:1px solid var(--border); padding:12px; margin-top:14px; display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
.pp-i { text-align:center; }
.pp-lbl { font-size:9px; color:var(--muted); text-transform:uppercase; letter-spacing:1px; margin-bottom:4px; }
.pp-val { font-family:'Syne',sans-serif; font-weight:700; font-size:15px; }

.sold-info { background:var(--surface); border:1px solid var(--border); padding:12px; margin-bottom:14px; }
.sir { display:flex; justify-content:space-between; font-size:12px; padding:3px 0; }
.sir .k { color:var(--muted); }

/* EMPTY */
.empty-state { text-align:center; padding:52px 20px; color:var(--muted); }
.empty-icon  { font-size:40px; margin-bottom:14px; }
.empty-state p { font-size:12px; line-height:1.7; }

/* TOAST */
.toast { position:fixed; bottom:24px; right:24px; background:var(--accent); color:#0a0a0f; font-family:'Syne',sans-serif; font-weight:700; font-size:13px; padding:11px 20px; z-index:999; opacity:0; transform:translateY(10px); transition:all 0.25s; pointer-events:none; }
.toast.on { opacity:1; transform:translateY(0); }
.toast.err { background:var(--danger); color:#fff; }

/* PLATFORM BAR */
.plat-row { display:flex; align-items:center; padding:11px 18px; border-bottom:1px solid rgba(42,42,56,0.5); gap:10px; }
.plat-row:last-child { border-bottom:none; }
.plat-name { font-family:'Syne',sans-serif; font-weight:600; font-size:12px; min-width:70px; }
.plat-bw   { flex:1; }
.plat-bar  { height:4px; background:var(--border); border-radius:2px; overflow:hidden; }
.plat-fill { height:100%; border-radius:2px; transition:width 0.5s ease; }
.plat-val  { font-size:12px; color:var(--accent); min-width:60px; text-align:right; }

/* SALES LOG */
.sale-item { display:flex; align-items:flex-start; gap:10px; padding:11px 18px; border-bottom:1px solid rgba(42,42,56,0.5); }
.sale-dot  { width:7px; height:7px; border-radius:50%; margin-top:4px; flex-shrink:0; }
.sale-info { flex:1; min-width:0; }
.sale-name { font-size:12px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.sale-time { font-size:10px; color:var(--muted); margin-top:2px; }
.sale-amt  { font-family:'Syne',sans-serif; font-weight:700; font-size:13px; color:var(--good); }

/* ── ITEM IMAGES ── */
.item-thumb {
  width: 40px;
  height: 40px;
  border-radius: 4px;
  object-fit: cover;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: transform 0.15s, border-color 0.15s;
  display: block;
  flex-shrink: 0;
}
.item-thumb:hover { transform: scale(1.06); border-color: var(--accent); }

.item-thumb-placeholder {
  width: 40px;
  height: 40px;
  border-radius: 4px;
  border: 1px dashed var(--border2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--border2);
  font-size: 16px;
  cursor: pointer;
  transition: border-color 0.15s, color 0.15s;
  flex-shrink: 0;
}
.item-thumb-placeholder:hover { border-color: var(--accent); color: var(--accent); }

/* Upload zone in drawer / add modal */
.img-upload-zone {
  border: 2px dashed var(--border2);
  border-radius: 6px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  text-align: center;
  position: relative;
  min-height: 110px;
}
.img-upload-zone:hover,
.img-upload-zone.drag-over { border-color: var(--accent); background: rgba(87,200,255,0.04); }
.img-upload-zone input[type=file] {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
  width: 100%;
  height: 100%;
}
.img-upload-icon { font-size: 28px; color: var(--muted2); }
.img-upload-txt  { font-size: 11px; color: var(--muted2); }
.img-upload-hint { font-size: 10px; color: var(--muted); }

/* Multi-image grid */
.img-slots {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
}
.img-slot {
  position: relative;
  width: 100%;
  height: 90px;
  border-radius: 6px;
  border: 2px dashed var(--border2);
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
}
.img-slot:hover { border-color: var(--accent); background: rgba(87,200,255,0.04); }
.img-slot.filled { border-style: solid; border-color: var(--border); cursor: default; }
.img-slot.img-slot-locked { pointer-events: none; opacity: 0.4; }
.img-slot-add {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  pointer-events: none;
}
/* Transparent file input — always in DOM, controlled via pointer-events only */
.img-slot-input {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  margin: 0; padding: 0;
  font-size: 16px;
  -webkit-appearance: none;
  z-index: 1;
}
.img-slot img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  pointer-events: none;
}
.img-slot-icon { font-size: 20px; color: var(--muted2); }
.img-slot-lbl  { font-size: 9px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; }
.img-slot-rm {
  position: absolute;
  top: 4px; right: 4px;
  z-index: 2;
  background: rgba(0,0,0,0.75);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 20px; height: 20px;
  font-size: 12px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  transition: background 0.15s;
  -webkit-tap-highlight-color: transparent;
}
.img-slot-rm:hover { background: var(--danger); }
.img-slot-badge {
  position: absolute;
  bottom: 4px; left: 4px;
  background: rgba(87,200,255,0.9);
  color: #0a0a0f;
  font-size: 8px;
  font-family: 'DM Mono', monospace;
  font-weight: 700;
  padding: 2px 5px;
  border-radius: 2px;
  letter-spacing: 0.5px;
}

.img-preview-wrap {
  position: relative;
  display: inline-block;
}
.img-preview {
  width: 100%;
  max-height: 200px;
  object-fit: contain;
  border-radius: 6px;
  border: 1px solid var(--border);
  display: block;
}
.img-remove-btn {
  position: absolute;
  top: 6px;
  right: 6px;
  background: rgba(0,0,0,0.75);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  transition: background 0.15s;
}
.img-remove-btn:hover { background: var(--danger); }

/* ── BARCODE ── */
.barcode-wrap {
  background: #fff;
  padding: 10px 12px 6px;
  border-radius: 4px;
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  border: 1px solid var(--border);
}
.barcode-wrap svg { display: block; }
.barcode-sku-lbl {
  font-family: 'DM Mono', monospace;
  font-size: 9px;
  color: #333;
  letter-spacing: 1px;
}
.barcode-actions {
  display: flex;
  gap: 8px;
  margin-top: 10px;
  align-items: center;
  flex-wrap: wrap;
}

/* ── PAGINATION ── */
.pagination { display: flex; gap: 8px; justify-content: center; margin: 16px 0; }
.pg-btn {
  background: var(--surface); border: 1px solid var(--border); color: var(--muted);
  padding: 6px 12px; font-family: 'DM Mono', monospace; font-size: 11px;
  cursor: pointer; transition: all 0.15s;
}
.pg-btn:hover { border-color: var(--accent); color: var(--accent); }
.pg-btn.active { background: var(--accent); color: #0a0a0f; border-color: var(--accent); }
.pg-btn:disabled { opacity: 0.4; cursor: not-allowed; }

/* ── LISTING STATUS BADGES ──────────────────────────── */
.ls-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 5px 10px; font-size: 10px; font-family: 'DM Mono', monospace;
  border: 1px solid var(--border); cursor: pointer; user-select: none;
  transition: all 0.15s;
}
.ls-badge:hover { border-color: var(--border2); }
.ls-badge[data-status="active"] { border-color: rgba(87,255,154,0.3); background: rgba(87,255,154,0.06); }
.ls-badge[data-status="active"] .ls-dot { background: var(--good); box-shadow: 0 0 6px var(--good); }
.ls-badge[data-status="sold"] { border-color: rgba(87,200,255,0.3); background: rgba(87,200,255,0.06); }
.ls-badge[data-status="sold"] .ls-dot { background: var(--accent); box-shadow: 0 0 6px var(--accent); }
.ls-badge[data-status="delisted"] { border-color: rgba(107,107,128,0.3); background: rgba(107,107,128,0.06); opacity: 0.6; }
.ls-badge[data-status="delisted"] .ls-dot { background: var(--muted); }
.ls-dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
.ls-label { text-transform: uppercase; letter-spacing: 0.5px; font-size: 9px; color: var(--muted); }

/* ── CROSS-LISTING BADGE ── */
.cross-listed-badge {
  font-size: 9px;
  padding: 1px 5px;
  background: rgba(123,97,255,0.15);
  color: var(--accent3);
  font-family: 'DM Mono', monospace;
  letter-spacing: 0.3px;
  vertical-align: middle;
  margin-left: 2px;
}

/* ── PLATFORM MULTI-PICKER ── */
.plat-picker {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 6px;
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid var(--border);
  background: var(--surface2);
  padding: 8px;
}
.plat-picker-group-label {
  font-size: 8px;
  text-transform: uppercase;
  letter-spacing: 1.2px;
  color: var(--border2);
  padding: 2px 4px 0;
  margin-top: 4px;
}
.plat-picker-group-label:first-child { margin-top: 0; }
.plat-picker-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}
.plat-pick-chip {
  font-size: 10px;
  padding: 4px 9px;
  border: 1px solid var(--border);
  color: var(--muted2);
  background: var(--surface);
  cursor: pointer;
  font-family: 'DM Mono', monospace;
  transition: border-color 0.12s, color 0.12s, background 0.12s;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.plat-pick-chip:hover  { border-color: var(--border2); color: var(--text); }
.plat-pick-chip.active { border-color: var(--accent); color: var(--accent); background: rgba(87,200,255,0.1); }

/* ── PACKAGE DIMENSIONS ──────────────────────────────── */
.unit-toggle {
  display: flex;
  border: 1px solid var(--border);
  border-radius: 3px;
  overflow: hidden;
  flex-shrink: 0;
}
.utog-btn {
  background: transparent;
  border: none;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
  font-size: 9px;
  padding: 4px 8px;
  cursor: pointer;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: background 0.12s, color 0.12s;
  white-space: nowrap;
}
.utog-btn.active { background: var(--accent); color: #0a0a0f; font-weight: 700; }
.utog-btn:not(.active):hover { color: var(--text); }

.dim-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.dim-weight-row {
  display: flex;
  align-items: center;
  gap: 5px;
}
.dim-weight-row input { flex: 1; min-width: 0; }
.dim-unit-lbl {
  font-size: 10px;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
  white-space: nowrap;
}
.dim-lxwxh {
  display: flex;
  align-items: center;
  gap: 4px;
}
.dim-lxwxh input { flex: 1; min-width: 0; }
.dim-sep {
  color: var(--muted);
  font-size: 12px;
  flex-shrink: 0;
}

/* ── PACKAGING SUGGESTION ── */
.pkg-suggest {
  margin-top: 12px;
  border: 1px solid var(--border);
  background: var(--surface2);
  overflow: hidden;
}
.pkg-suggest-hd {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 9px 12px;
  background: rgba(87,200,255,0.06);
  border-bottom: 1px solid var(--border);
}
.pkg-suggest-icon { font-size: 16px; }
.pkg-suggest-ttl  { font-family:'Syne',sans-serif; font-weight:600; font-size:11px; color: var(--accent); flex:1; }
.pkg-suggest-sub  { font-size:10px; color:var(--muted); }
.pkg-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
  gap: 1px;
  background: var(--border);
}
.pkg-card {
  background: var(--surface);
  padding: 10px 12px;
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.pkg-card.best {
  background: rgba(87,200,255,0.07);
}
.pkg-card-ico  { font-size: 18px; line-height: 1; }
.pkg-card-name { font-size: 11px; font-weight: 600; font-family:'Syne',sans-serif; }
.pkg-card-dim  { font-size: 10px; color: var(--muted2); font-family:'DM Mono',monospace; }
.pkg-card-note { font-size: 9px; color: var(--muted); margin-top: 3px; line-height: 1.4; }
.pkg-best-tag  {
  font-size: 8px;
  text-transform: uppercase;
  letter-spacing: 1px;
  background: var(--accent);
  color: #0a0a0f;
  padding: 1px 5px;
  font-weight: 700;
  align-self: flex-start;
  margin-bottom: 2px;
}
.pkg-padding-list {
  padding: 10px 12px;
  border-top: 1px solid var(--border);
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  align-items: center;
}
.pkg-padding-ttl { font-size:9px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); margin-right:2px; }
.pkg-pad-chip {
  font-size: 10px;
  padding: 3px 8px;
  border: 1px solid var(--border);
  color: var(--muted2);
  background: var(--surface2);
  font-family: 'DM Mono', monospace;
}

/* ── EXPENSE CATEGORY COLORS ── */
.exp-cat-badge {
  display: inline-block;
  font-size: 9px;
  padding: 2px 7px;
  font-family: 'DM Mono', monospace;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  border-radius: 2px;
  white-space: nowrap;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  vertical-align: middle;
}

.exp-shipping  { background:rgba(0,188,255,0.12);  color:#00bcff; }
.exp-packaging { background:rgba(87,200,255,0.12); color:var(--accent); }
.exp-fees      { background:rgba(255,107,53,0.12); color:#ff6b35; }
.exp-sourcing  { background:rgba(123,97,255,0.12); color:var(--accent3); }
.exp-storage   { background:rgba(255,184,0,0.12);  color:var(--warn); }
.exp-printing  { background:rgba(87,255,154,0.12); color:var(--good); }
.exp-software  { background:rgba(180,180,180,0.12);color:#aaa; }
.exp-marketing { background:rgba(228,64,95,0.12);  color:#e4405f; }
.exp-returns   { background:rgba(255,71,87,0.12);  color:var(--danger); }
.exp-office    { background:rgba(60,179,113,0.12); color:#3cb371; }
.exp-other     { background:rgba(100,100,120,0.12);color:var(--muted2); }

/* ── UPC SCANNER ─────────────────────────────────────────────────────── */
.upc-input-row {
  display: flex;
  gap: 6px;
  align-items: center;
}
.upc-input-row input { flex: 1; min-width: 0; }
.upc-scan-btn {
  background: var(--surface2);
  border: 1px solid var(--border);
  color: var(--accent);
  padding: 0 10px;
  cursor: pointer;
  font-size: 16px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: border-color 0.15s, background 0.15s;
  flex-shrink: 0;
}
.upc-scan-btn:hover { border-color: var(--accent); background: rgba(87,200,255,0.08); }
.upc-tag {
  font-size: 9px;
  padding: 2px 6px;
  background: rgba(255,184,0,0.12);
  color: var(--warn);
  letter-spacing: 0.5px;
  font-family: 'DM Mono', monospace;
  border-radius: 2px;
}

/* ── PRICE DROP ALERTS ──────────────────────────────────────────────────── */
.price-alerts-wrap {
  margin: 0 0 4px;
  background: rgba(255,184,0,0.04);
  border-bottom: 1px solid rgba(255,184,0,0.15);
  padding: 14px 20px;
}
.price-alerts-hdr {
  display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;
}
.price-alerts-title {
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; color: var(--warn);
  display: flex; align-items: center; gap: 6px;
}
.price-alerts-dismiss {
  background: none; border: 1px solid rgba(255,184,0,0.3); color: var(--warn); font-size: 10px;
  padding: 3px 10px; cursor: pointer; font-family: 'DM Mono', monospace;
}
.price-alert-item {
  display: flex; align-items: center; gap: 12px; padding: 8px 0;
  border-bottom: 1px solid rgba(255,255,255,0.04);
}
.price-alert-item:last-child { border-bottom: none; }
.price-alert-info { flex: 1; min-width: 0; }
.price-alert-name {
  font-size: 12px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  cursor: pointer;
}
.price-alert-name:hover { color: var(--accent); }
.price-alert-meta { font-size: 10px; color: var(--muted); margin-top: 2px; font-family: 'DM Mono', monospace; }
.price-alert-action {
  display: flex; align-items: center; gap: 8px; flex-shrink: 0;
}
.price-alert-suggest {
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; color: var(--warn);
}
.price-alert-btn {
  background: none; border: 1px solid var(--warn); color: var(--warn); font-size: 10px;
  padding: 4px 10px; cursor: pointer; font-family: 'DM Mono', monospace;
  transition: all 0.15s;
}
.price-alert-btn:hover { background: var(--warn); color: #0a0a0f; }

/* ── DEATH PILE ─────────────────────────────────────────────────────── */
.death-pile-wrap {
  margin: 0 0 4px; padding: 14px 20px;
  background: rgba(123,97,255,0.04); border-bottom: 1px solid rgba(123,97,255,0.15);
}
.death-pile-hdr {
  display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;
}
.death-pile-title {
  font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; color: var(--accent3);
  display: flex; align-items: center; gap: 6px;
}
.death-pile-item {
  display: flex; align-items: center; gap: 12px; padding: 8px 0;
  border-bottom: 1px solid rgba(255,255,255,0.04);
}
.death-pile-item:last-child { border-bottom: none; }
.dp-info { flex: 1; min-width: 0; }
.dp-name { font-size: 12px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: pointer; }
.dp-name:hover { color: var(--accent); }
.dp-meta { font-size: 10px; color: var(--muted); margin-top: 2px; font-family: 'DM Mono', monospace; }
.dp-age { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; flex-shrink: 0; }
.dp-list-btn {
  background: none; border: 1px solid var(--accent3); color: var(--accent3); font-size: 10px;
  padding: 4px 10px; cursor: pointer; font-family: 'DM Mono', monospace; flex-shrink: 0;
  transition: all 0.15s;
}
.dp-list-btn:hover { background: var(--accent3); color: #fff; }

/* ── CONDITION TAGS ─────────────────────────────────────────────────────── */

/* ── BOOK MODE ─────────────────────────────────────────────────────────────── */
.book-fields { display: none; grid-column: 1 / -1; }
.book-fields.on { display: block; }
.book-fields .bf-header {
  font-family: 'Syne', sans-serif; font-size: 11px; font-weight: 700;
  color: var(--accent3); text-transform: uppercase; letter-spacing: 1.5px;
  margin: 12px 0 8px; padding-bottom: 6px; border-bottom: 1px solid var(--border);
  display: flex; align-items: center; gap: 6px;
}
.book-fields .bf-grid {
  display: grid; grid-template-columns: 1fr 1fr; gap: 8px 12px;
}
.book-fields .bf-grid .fgrp,
.book-fields .bf-grid .edit-grp { margin: 0; }
.book-fields .bf-grid .full { grid-column: 1 / -1; }
.isbn-row { display: flex; gap: 6px; align-items: flex-end; }
.isbn-row input { flex: 1; }
.isbn-lookup-btn {
  background: var(--accent3); color: #fff; border: none; padding: 8px 12px;
  font-family: 'DM Mono', monospace; font-size: 10px; cursor: pointer;
  white-space: nowrap; font-weight: 600; letter-spacing: 0.5px;
}
.isbn-lookup-btn:hover { filter: brightness(1.15); }
.isbn-lookup-btn:disabled { opacity: 0.5; cursor: not-allowed; }
.rank-display { display: inline-flex; align-items: center; gap: 6px; font-size: 10px; margin-top: 4px; }
.rank-dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block; }
.rank-label { font-family: 'DM Mono', monospace; color: var(--muted); }
.fba-calc-panel {
  background: var(--surface2); border: 1px solid var(--border); padding: 12px 14px;
  margin-top: 8px; display: none;
}
.fba-calc-panel.on { display: block; }
.fba-row { display: flex; justify-content: space-between; padding: 3px 0; font-size: 11px; }
.fba-row .fba-lbl { color: var(--muted); }
.fba-row .fba-val { font-family: 'DM Mono', monospace; font-weight: 600; }
.fba-row.fba-total { border-top: 1px solid var(--border); margin-top: 4px; padding-top: 6px; font-weight: 700; }
.fba-winner { font-size: 10px; margin-top: 6px; padding: 6px 10px; font-weight: 600; font-family: 'DM Mono', monospace; }
.book-meta-tag { font-size: 9px; padding: 2px 6px; background: rgba(123,97,255,0.1); color: var(--accent3); font-family: 'DM Mono', monospace; border: 1px solid rgba(123,97,255,0.2); margin-left: 4px; }

/* ── Input Validation ──────────────────────────────────────── */
.input-error {
  border-color: var(--danger) !important;
  box-shadow: 0 0 0 1px var(--danger);
}
.validation-hint {
  display: block;
  font-size: 10px;
  color: var(--danger);
  margin-top: 2px;
  font-family: 'DM Mono', monospace;
}

/* ── Accessibility: Color-blind safe indicators ────────────── */
.margin-badge.mb-high::before { content: '▲ '; font-size: 8px; }
.margin-badge.mb-mid::before  { content: '● '; font-size: 8px; }
.margin-badge.mb-low::before  { content: '▼ '; font-size: 8px; }

/* Profit/loss text indicators for screen readers */
.profit-positive::after { content: ' (profit)'; }
.profit-negative::after { content: ' (loss)'; }

/* Minimum touch target size for mobile */
@media (pointer: coarse) {
  .act-btn, .stepper-btn, .filter-chip, .pg-btn {
    min-height: 44px;
    min-width: 44px;
  }
  input[type="checkbox"] {
    min-height: 22px;
    min-width: 22px;
  }
}

/* Skip to content link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--accent);
  color: #000;
  padding: 8px 16px;
  z-index: 10000;
  font-weight: 700;
  transition: top 0.2s;
}
.skip-link:focus {
  top: 0;
}

/* Focus visible outlines */
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}


/* ══════════════════════════════════════════════════════════════════════════
   CROSSLIST DASHBOARD
   ══════════════════════════════════════════════════════════════════════════ */

.cl-stats-strip {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 8px;
  margin-bottom: 16px;
}
.cl-stat {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px 8px;
  text-align: center;
}
.cl-stat-val {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 20px;
}
.cl-stat-lbl {
  font-family: 'DM Mono', monospace;
  font-size: 9px;
  text-transform: uppercase;
  color: var(--muted);
  margin-top: 2px;
  letter-spacing: 0.5px;
}

/* Tabs */
.cl-tabs {
  display: flex;
  gap: 4px;
  margin-bottom: 16px;
  border-bottom: 1px solid var(--border);
  padding-bottom: 8px;
}
.cl-tab {
  background: none;
  border: 1px solid transparent;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  padding: 8px 16px;
  cursor: pointer;
  border-radius: 6px 6px 0 0;
  transition: all 0.15s;
}
.cl-tab:hover { color: var(--text); background: var(--surface); }
.cl-tab.active {
  color: var(--accent);
  border-color: var(--border);
  border-bottom-color: var(--bg);
  background: var(--surface);
}

/* Sections */
.cl-section {
  margin-bottom: 24px;
}
.cl-section-title {
  font-family: 'Syne', sans-serif;
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 10px;
}

/* Cards */
.cl-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 8px;
}
.cl-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px;
  transition: border-color 0.15s;
}
.cl-card:hover { border-color: var(--accent); }
.cl-card-warn { border-left: 3px solid var(--warn); }
.cl-card-danger { border-left: 3px solid var(--danger); }
.cl-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}
.cl-card-name {
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 13px;
  color: var(--text);
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 65%;
}
.cl-card-name:hover { color: var(--accent); }
.cl-card-days {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
}
.cl-card-plat {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--accent);
  margin-bottom: 8px;
}
.cl-card-actions {
  display: flex;
  gap: 6px;
}

/* Small buttons */
.btn-sm {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  padding: 5px 12px;
  border-radius: 4px;
  cursor: pointer;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  transition: all 0.15s;
  min-height: 32px;
}
.btn-sm:hover { border-color: var(--accent); }
.btn-sm.btn-accent { background: var(--accent); color: #0a0a0f; border-color: var(--accent); font-weight: 600; }
.btn-sm.btn-accent:hover { opacity: 0.9; }
.btn-sm.btn-danger { color: var(--danger); border-color: var(--danger); }
.btn-sm.btn-muted { color: var(--muted); }

.btn-xs {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  padding: 3px 8px;
  border-radius: 3px;
  cursor: pointer;
  border: 1px solid var(--border);
  background: var(--surface2);
  color: var(--muted);
  transition: all 0.15s;
  min-height: 28px;
  min-width: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.btn-xs:hover { border-color: var(--accent); color: var(--accent); }
.btn-xs.btn-accent { background: var(--accent); color: #0a0a0f; border-color: var(--accent); }
.btn-xs.btn-danger { color: var(--danger); border-color: rgba(255,71,87,0.3); }

/* Filters */
.cl-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 12px;
}
.cl-filter-input {
  flex: 1;
  min-width: 150px;
  padding: 8px 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  font-size: 12px;
  font-family: 'DM Mono', monospace;
  border-radius: 4px;
}
.cl-filter-select {
  padding: 8px 10px;
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  font-size: 11px;
  font-family: 'DM Mono', monospace;
  border-radius: 4px;
  min-height: 36px;
}

/* Matrix List */
.cl-matrix-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.cl-matrix-item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
  transition: border-color 0.15s;
}
.cl-matrix-item:hover { border-color: rgba(87,200,255,0.3); }
.cl-matrix-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 12px;
  cursor: pointer;
  border-bottom: 1px solid var(--border);
}
.cl-matrix-header:hover { background: var(--surface2); }
.cl-matrix-name {
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 13px;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.cl-matrix-meta {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--muted);
  white-space: nowrap;
  margin-left: 12px;
}
.cl-matrix-platforms {
  padding: 4px 0;
}
.cl-plat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 12px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  min-height: 36px;
}
.cl-plat-row:last-child { border-bottom: none; }
.cl-plat-info {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 0;
}
.cl-plat-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}
.cl-plat-name {
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  color: var(--text);
  white-space: nowrap;
}
.cl-plat-status {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  text-transform: uppercase;
}
.cl-plat-actions {
  display: flex;
  gap: 4px;
  flex-shrink: 0;
}

/* Enhanced listing status in drawer */
.ls-badge-enhanced {
  background: var(--surface2);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 8px 10px;
  margin-bottom: 6px;
}
.ls-badge-top {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 4px;
}
.ls-plat-name {
  font-family: 'DM Mono', monospace;
  font-size: 12px;
  font-weight: 600;
  color: var(--text);
}
.ls-label {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  text-transform: uppercase;
  cursor: pointer;
  padding: 1px 6px;
  border-radius: 3px;
  background: rgba(255,255,255,0.05);
}
.ls-label:hover { background: rgba(255,255,255,0.1); }
.ls-expiry {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  margin-left: auto;
}
.ls-expiry.ls-expired { color: var(--danger); font-weight: 600; }
.ls-expiry.ls-urgent { color: var(--danger); }
.ls-expiry.ls-warning { color: var(--warn); }
.ls-date {
  font-family: 'DM Mono', monospace;
  font-size: 9px;
  color: var(--muted);
}
.ls-badge-bottom {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.ls-badge-actions {
  display: flex;
  gap: 4px;
}

/* Templates */
.cl-template-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 10px;
}
.cl-template-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 12px;
}
.cl-template-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 4px;
}
.cl-template-name {
  font-family: 'Syne', sans-serif;
  font-weight: 600;
  font-size: 13px;
}
.cl-template-badge {
  font-family: 'DM Mono', monospace;
  font-size: 9px;
  color: var(--accent);
  border: 1px solid var(--accent);
  padding: 1px 6px;
  border-radius: 3px;
  text-transform: uppercase;
}
.cl-template-category {
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  margin-bottom: 8px;
}
.cl-template-preview {
  background: var(--surface2);
  border-radius: 4px;
  padding: 8px;
}

/* ── RESPONSIVE ── */
@media (max-width: 820px) {
  .cl-stats-strip { grid-template-columns: repeat(3, 1fr); }
  .cl-cards { grid-template-columns: 1fr; }
  .cl-template-grid { grid-template-columns: 1fr; }
  .cl-tabs { overflow-x: auto; -webkit-overflow-scrolling: touch; }
  .cl-filters { flex-direction: column; }
  .cl-filter-input, .cl-filter-select { width: 100%; }
}
@media (max-width: 480px) {
  .cl-stats-strip { grid-template-columns: repeat(2, 1fr); gap: 6px; }
  .cl-stat { padding: 8px 6px; }
  .cl-stat-val { font-size: 16px; }
  .cl-plat-row { flex-wrap: wrap; gap: 4px; }
  .cl-plat-actions { width: 100%; justify-content: flex-end; }
}
@media (pointer: coarse) {
  .btn-sm { min-height: 44px; padding: 8px 16px; }
  .btn-xs { min-height: 44px; min-width: 44px; }
  .cl-tab { min-height: 44px; padding: 10px 16px; }
  .cl-plat-row { min-height: 48px; }
}

/* ══════════════════════════════════════════════════════════════════════════
   PHASE 2: SHIPPING
   ══════════════════════════════════════════════════════════════════════════ */
.ship-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 16px; }
.ship-stat { background: var(--surface2); border: 1px solid var(--border); padding: 14px 16px; }
.ship-stat-label { font-size: 9px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 4px; }
.ship-stat-value { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 22px; }
.ship-filters { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px 0; align-items: center; }
.ship-filters input, .ship-filters select { padding: 6px 10px; background: var(--surface); border: 1px solid var(--border); color: var(--text); font-size: 11px; font-family: 'DM Mono', monospace; }
.ship-badge { display: inline-block; font-size: 9px; padding: 2px 8px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; }
.ship-badge.pending { background: rgba(255,184,0,0.12); color: var(--warn); }
.ship-badge.shipped { background: rgba(87,255,154,0.12); color: var(--good); }
.ship-badge.delivered { background: rgba(87,200,255,0.12); color: var(--accent); }
.ship-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 9998; display: none; }
.ship-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); background: var(--surface2); border: 1px solid var(--border); padding: 20px 24px; z-index: 9999; max-width: 420px; width: 90%; box-shadow: 0 8px 32px rgba(0,0,0,0.5); display: none; }
.ship-modal .form-grid { gap: 10px; }
.ship-modal-title { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 14px; margin-bottom: 14px; }

/* ══════════════════════════════════════════════════════════════════════════
   PHASE 3: SOURCING
   ══════════════════════════════════════════════════════════════════════════ */
.haul-card { background: var(--surface2); border: 1px solid var(--border); padding: 16px; margin-bottom: 10px; transition: border-color 0.15s; }
.haul-card:hover { border-color: var(--accent); }
.haul-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.haul-title { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 14px; }
.haul-meta { font-size: 10px; color: var(--muted); font-family: 'DM Mono', monospace; }
.haul-roi { font-family: 'Syne', sans-serif; font-weight: 800; }
.haul-roi.positive { color: var(--good); }
.haul-roi.negative { color: var(--danger); }
.haul-items { margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--border); }
.haul-item-row { display: flex; justify-content: space-between; padding: 4px 0; font-size: 11px; border-bottom: 1px solid rgba(255,255,255,0.03); }
.src-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 16px; }
.src-stat { background: var(--surface2); border: 1px solid var(--border); padding: 12px; text-align: center; }
.link-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 9998; display: none; }
.link-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%,-50%); background: var(--surface2); border: 1px solid var(--border); padding: 20px 24px; z-index: 9999; max-width: 500px; width: 90%; max-height: 70vh; overflow-y: auto; box-shadow: 0 8px 32px rgba(0,0,0,0.5); display: none; }

/* ══════════════════════════════════════════════════════════════════════════
   PHASE 4: TAX
   ══════════════════════════════════════════════════════════════════════════ */
.tax-stats { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 16px; }
.tax-stat { background: var(--surface2); border: 1px solid var(--border); padding: 14px 16px; }
.tax-stat-label { font-size: 9px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 4px; }
.tax-stat-value { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 20px; }
.sched-c-table { width: 100%; border-collapse: collapse; }
.sched-c-table th { text-align: left; font-size: 10px; color: var(--muted); text-transform: uppercase; letter-spacing: 0.5px; padding: 8px 10px; border-bottom: 1px solid var(--border); }
.sched-c-table td { padding: 8px 10px; font-size: 12px; border-bottom: 1px solid rgba(255,255,255,0.04); }
.sched-c-table .line-num { font-family: 'DM Mono', monospace; font-size: 10px; color: var(--muted); }
.sched-c-table .line-amt { text-align: right; font-family: 'DM Mono', monospace; font-weight: 600; }
.mileage-form { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }

/* ══════════════════════════════════════════════════════════════════════════
   PHASE 5: PRICING
   ══════════════════════════════════════════════════════════════════════════ */
.rp-rule-card { background: var(--surface2); border: 1px solid var(--border); padding: 12px 14px; margin-bottom: 8px; }
.rp-rule-card.disabled { opacity: 0.5; }
.rp-rule-header { display: flex; justify-content: space-between; align-items: center; }
.rp-rule-name { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; }
.rp-suggestion { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.04); }
.rp-suggestion .price-change { font-family: 'DM Mono', monospace; font-weight: 700; }
.rp-suggestion .price-change.down { color: var(--danger); }
.rp-suggestion .price-change.up { color: var(--good); }
.price-chart { width: 100%; height: 120px; position: relative; margin: 10px 0; }
.price-chart-bar { position: absolute; bottom: 0; background: var(--accent); min-width: 4px; transition: height 0.3s; }

/* ══════════════════════════════════════════════════════════════════════════
   PHASE 6: CRM
   ══════════════════════════════════════════════════════════════════════════ */
.buyer-card { background: var(--surface2); border: 1px solid var(--border); padding: 14px 16px; margin-bottom: 8px; transition: border-color 0.15s; }
.buyer-card:hover { border-color: var(--accent); }
.buyer-name { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 14px; }
.buyer-meta { font-size: 10px; color: var(--muted); font-family: 'DM Mono', monospace; margin-top: 2px; }
.buyer-stats { display: flex; gap: 16px; margin-top: 8px; }
.buyer-stat { font-size: 11px; }
.buyer-stat-val { font-family: 'DM Mono', monospace; font-weight: 700; }
.offer-badge { display: inline-block; font-size: 9px; padding: 2px 8px; text-transform: uppercase; letter-spacing: 0.5px; font-weight: 600; }
.offer-badge.pending { background: rgba(255,184,0,0.12); color: var(--warn); }
.offer-badge.accepted { background: rgba(87,255,154,0.12); color: var(--good); }
.offer-badge.rejected { background: rgba(255,71,87,0.12); color: var(--danger); }
.offer-badge.countered { background: rgba(123,97,255,0.12); color: var(--accent3); }
.offer-badge.expired { background: rgba(128,128,128,0.12); color: var(--muted); }

/* ══════════════════════════════════════════════════════════════════════════
   RESPONSIVE: New phases
   ══════════════════════════════════════════════════════════════════════════ */
@media (max-width: 820px) {
  .ship-stats { grid-template-columns: repeat(2, 1fr); }
  .tax-stats { grid-template-columns: repeat(2, 1fr); }
  .src-stats { grid-template-columns: 1fr 1fr; }
  .mileage-form { grid-template-columns: 1fr; }
  .ship-filters { flex-direction: column; }
}
@media (max-width: 480px) {
  .ship-stats { grid-template-columns: 1fr 1fr; gap: 6px; }
  .ship-stat { padding: 10px 12px; }
  .ship-stat-value { font-size: 18px; }
  .tax-stats { grid-template-columns: 1fr 1fr; gap: 6px; }
  .tax-stat { padding: 10px 12px; }
  .tax-stat-value { font-size: 16px; }
  .src-stats { grid-template-columns: 1fr; }
  .haul-card { padding: 12px; }
  .buyer-card { padding: 12px; }
}
@media (pointer: coarse) {
  .ship-badge { min-height: 28px; padding: 4px 10px; }
  .buyer-card { min-height: 44px; }
  .haul-card { min-height: 44px; }
}

/* ── eBay Integration Panel ─────────────────────────────────────────────── */
.ebay-panel {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  margin-bottom: 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
}
.ebay-panel.ebay-connected {
  border-color: var(--good);
  background: rgba(74, 222, 128, 0.05);
}
.ebay-panel-left { flex: 1; min-width: 0; }
.ebay-panel-status {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-family: 'DM Mono', monospace;
}
.ebay-panel-meta {
  font-size: 11px;
  color: var(--muted);
  margin-top: 2px;
}
.ebay-panel-actions {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
}
.ebay-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--muted);
  flex-shrink: 0;
}
.ebay-dot.ebay-dot-on {
  background: var(--good);
  box-shadow: 0 0 6px rgba(74, 222, 128, 0.5);
}
.ebay-user {
  font-size: 11px;
  color: var(--muted);
}

@media (max-width: 480px) {
  .ebay-panel { flex-direction: column; align-items: flex-start; gap: 8px; }
  .ebay-panel-actions { width: 100%; }
  .ebay-panel-actions .btn-sm { flex: 1; text-align: center; }
}

/* ── ETSY INTEGRATION PANEL ────────────────────────────────────────────── */

.etsy-panel {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  margin-bottom: 12px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
}
.etsy-panel.etsy-connected {
  border-color: #f56400;
  background: rgba(245, 100, 0, 0.05);
}
.etsy-panel-left { flex: 1; min-width: 0; }
.etsy-panel-status {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  font-family: 'DM Mono', monospace;
}
.etsy-panel-meta {
  font-size: 11px;
  color: var(--muted);
  margin-top: 2px;
}
.etsy-panel-actions {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
}
.etsy-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--muted);
  flex-shrink: 0;
}
.etsy-dot.etsy-dot-on {
  background: #f56400;
  box-shadow: 0 0 6px rgba(245, 100, 0, 0.5);
}
.etsy-shop {
  font-size: 11px;
  color: var(--muted);
}
.btn-etsy {
  background: #f56400 !important;
  color: #fff !important;
  border: none !important;
}
.btn-etsy:hover {
  background: #e05800 !important;
}
.btn-etsy:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

@media (max-width: 480px) {
  .etsy-panel { flex-direction: column; align-items: flex-start; gap: 8px; }
  .etsy-panel-actions { width: 100%; }
  .etsy-panel-actions .btn-sm { flex: 1; text-align: center; }
}

/* ═══════════════════════════════════════════════════════════════════════════ */
/* PHASE 8: PRO RESELLER FEATURES                                            */
/* ═══════════════════════════════════════════════════════════════════════════ */

/* ── COMPS & MARKET RESEARCH ─────────────────────────────────────────────── */
.comps-panel { padding: 12px; }
.comps-source { font-size: 10px; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
.comps-stats { display: flex; gap: 12px; margin-bottom: 12px; flex-wrap: wrap; }
.comps-stat { text-align: center; flex: 1; min-width: 60px; }
.comps-stat-val { font-size: 16px; font-weight: 700; color: var(--accent); }
.comps-stat-lbl { font-size: 10px; color: var(--muted); text-transform: uppercase; }
.comps-list { display: flex; flex-direction: column; gap: 6px; }
.comps-item { display: flex; align-items: center; gap: 8px; padding: 6px; background: var(--surface2); border-radius: 6px; }
.comps-thumb { width: 36px; height: 36px; border-radius: 4px; object-fit: cover; }
.comps-thumb-empty { display: flex; align-items: center; justify-content: center; background: var(--surface); font-size: 16px; }
.comps-item-info { flex: 1; min-width: 0; }
.comps-item-title { font-size: 12px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.comps-item-meta { font-size: 10px; color: var(--muted); }
.comps-item-price { font-size: 13px; font-weight: 700; color: var(--accent); }
.comps-empty { padding: 16px; text-align: center; color: var(--muted); font-size: 12px; }

/* ── PHOTO TOOLS ─────────────────────────────────────────────────────────── */
.pt-panel { padding: 12px; }
.pt-preview { text-align: center; margin-bottom: 12px; }
.pt-img { max-width: 100%; max-height: 200px; border-radius: 8px; border: 1px solid var(--border); }
.pt-tools { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 12px; }
.pt-btn { padding: 6px 12px; background: var(--surface2); border: 1px solid var(--border); border-radius: 6px; font-size: 12px; cursor: pointer; color: var(--text); font-family: inherit; }
.pt-btn:hover { border-color: var(--accent); color: var(--accent); }
.pt-sliders { display: flex; flex-direction: column; gap: 8px; }
.pt-slider-row { display: flex; align-items: center; gap: 8px; font-size: 11px; color: var(--muted); }
.pt-slider-row input[type=range] { flex: 1; }
.pt-empty { padding: 16px; text-align: center; color: var(--muted); font-size: 12px; }

/* ── PROFIT CALCULATOR ───────────────────────────────────────────────────── */
.pc-panel { padding: 12px; background: var(--surface2); border-radius: 8px; margin-top: 8px; }
.pc-summary { text-align: center; margin-bottom: 10px; }
.pc-big { font-size: 22px; font-weight: 800; }
.pc-sub { font-size: 11px; color: var(--muted); }
.pc-platforms { display: flex; flex-direction: column; gap: 4px; margin-bottom: 8px; }
.pc-plat-row { display: flex; align-items: center; gap: 8px; padding: 4px 8px; border-radius: 4px; font-size: 12px; }
.pc-plat-row.pc-pos { background: rgba(74,222,128,0.05); }
.pc-plat-row.pc-neg { background: rgba(248,113,113,0.05); }
.pc-plat-name { font-weight: 600; min-width: 80px; }
.pc-plat-fee { flex: 1; color: var(--muted); }
.pc-plat-profit { font-weight: 700; min-width: 60px; text-align: right; }
.pc-plat-roi { font-size: 10px; color: var(--muted); min-width: 60px; text-align: right; }
.pc-breakeven { font-size: 11px; color: var(--muted); text-align: center; padding-top: 6px; border-top: 1px solid var(--border); }
.pc-hint { font-size: 11px; color: var(--muted); text-align: center; padding: 8px; }

/* ── DEATH PILE ──────────────────────────────────────────────────────────── */
.dp-widget { background: var(--surface2); border-radius: 8px; padding: 12px; margin-top: 12px; }
.dp-empty { text-align: center; padding: 16px; }
.dp-icon { font-size: 28px; margin-bottom: 6px; }
.dp-msg { font-size: 12px; color: var(--muted); }
.dp-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.dp-title { font-size: 14px; font-weight: 700; }
.dp-count { font-size: 11px; color: var(--muted); }
.dp-list { display: flex; flex-direction: column; gap: 6px; }
.dp-item { display: flex; align-items: center; gap: 8px; padding: 6px; cursor: pointer; border-radius: 4px; }
.dp-item:hover { background: var(--surface); }
.dp-urgency { font-size: 16px; }
.dp-item-info { flex: 1; min-width: 0; }
.dp-item-name { font-size: 12px; font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.dp-item-reason { font-size: 10px; color: var(--muted); }
.dp-item-days { font-size: 12px; font-weight: 700; color: var(--danger); }
.dp-more { font-size: 11px; color: var(--muted); text-align: center; padding: 6px; }
.dp-view { padding: 16px; }
.dp-view-header { margin-bottom: 16px; }
.dp-view-header h3 { font-size: 16px; font-weight: 700; margin-bottom: 4px; }
.dp-view-stats { font-size: 12px; color: var(--muted); display: flex; gap: 8px; flex-wrap: wrap; }
.dp-group { margin-bottom: 16px; }
.dp-group-header { font-size: 13px; font-weight: 700; margin-bottom: 8px; padding-bottom: 4px; border-bottom: 1px solid var(--border); }
.dp-group-items { display: flex; flex-direction: column; gap: 4px; }
.dp-row { display: flex; flex-direction: column; gap: 2px; padding: 8px; background: var(--surface2); border-radius: 6px; cursor: pointer; }
.dp-row:hover { background: var(--surface); }
.dp-row-main { display: flex; justify-content: space-between; align-items: center; }
.dp-row-name { font-size: 13px; font-weight: 500; }
.dp-row-cat { font-size: 11px; color: var(--muted); }
.dp-row-meta { display: flex; gap: 12px; font-size: 11px; color: var(--muted); }
.dp-row-action { font-size: 11px; color: var(--accent); font-style: italic; }
.dp-empty-full { text-align: center; padding: 40px 20px; }

/* ── BATCH LISTING ───────────────────────────────────────────────────────── */
.bl-panel { padding: 16px; }
.bl-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.bl-count { font-size: 14px; font-weight: 600; }
.bl-section { margin-bottom: 16px; }
.bl-section-title { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 6px; }
.bl-plat-grid { display: flex; flex-wrap: wrap; gap: 6px; }
.bl-plat-chip { padding: 5px 12px; background: var(--surface2); border: 1px solid var(--border); border-radius: 20px; font-size: 12px; cursor: pointer; color: var(--text); font-family: inherit; }
.bl-plat-chip.active { border-color: var(--accent); color: var(--accent); background: rgba(74,222,128,0.1); }
.bl-items { display: flex; flex-direction: column; gap: 4px; max-height: 200px; overflow-y: auto; }
.bl-item-row { display: flex; gap: 8px; padding: 4px 8px; font-size: 12px; align-items: center; }
.bl-item-name { flex: 1; min-width: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.bl-item-price { font-weight: 600; color: var(--accent); }
.bl-item-plats { font-size: 10px; color: var(--muted); }
.bl-more { font-size: 11px; color: var(--muted); text-align: center; padding: 4px; }
.bl-actions { display: flex; gap: 8px; flex-wrap: wrap; }
.bl-progress { margin-top: 12px; }
.bl-progress-bar { height: 4px; background: var(--surface2); border-radius: 2px; overflow: hidden; }
.bl-progress-fill { height: 100%; background: var(--accent); transition: width 0.3s; }
.bl-progress-text { font-size: 11px; color: var(--muted); text-align: center; margin-top: 4px; }
.bl-empty { text-align: center; padding: 20px; color: var(--muted); font-size: 12px; }

/* ── AI LISTING ──────────────────────────────────────────────────────────── */
.ai-panel { padding: 12px; }
.ai-existing { background: var(--surface2); border-radius: 8px; padding: 12px; margin-bottom: 12px; }
.ai-label { font-size: 10px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 4px; }
.ai-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
.ai-desc { font-size: 12px; line-height: 1.5; color: var(--text); }
.ai-keywords { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px; }
.ai-kw { padding: 2px 8px; background: var(--surface); border-radius: 10px; font-size: 10px; color: var(--accent); }
.ai-meta { font-size: 10px; color: var(--muted); margin-top: 6px; }
.ai-actions { display: flex; gap: 6px; margin-bottom: 12px; }
.ai-generate { border-top: 1px solid var(--border); padding-top: 12px; }
.ai-gen-row { display: flex; gap: 6px; margin-bottom: 8px; }
.ai-select { flex: 1; padding: 6px 8px; background: var(--surface2); border: 1px solid var(--border); border-radius: 4px; color: var(--text); font-size: 12px; font-family: inherit; }
.ai-gen-btn { width: 100%; }
.ai-cost-note { font-size: 10px; color: var(--muted); text-align: center; margin-top: 4px; }

/* ── INVENTORY VALUE ─────────────────────────────────────────────────────── */
.iv-dashboard { padding: 16px; }
.iv-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; margin-bottom: 20px; }
.iv-card { background: var(--surface2); border-radius: 8px; padding: 16px; text-align: center; }
.iv-card-label { font-size: 10px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 4px; }
.iv-card-value { font-size: 22px; font-weight: 800; }
.iv-card-sub { font-size: 11px; color: var(--muted); margin-top: 2px; }
.iv-section { margin-bottom: 20px; }
.iv-section-title { font-size: 14px; font-weight: 700; margin-bottom: 10px; }
.iv-aging { display: flex; flex-direction: column; gap: 6px; }
.iv-aging-row { display: flex; align-items: center; gap: 8px; }
.iv-aging-label { font-size: 12px; min-width: 80px; }
.iv-aging-bar-wrap { flex: 1; height: 12px; background: var(--surface2); border-radius: 6px; overflow: hidden; }
.iv-aging-bar { height: 100%; background: var(--accent); border-radius: 6px; transition: width 0.3s; }
.iv-aging-warn .iv-aging-bar { background: var(--warn); }
.iv-aging-danger .iv-aging-bar { background: var(--danger); }
.iv-aging-val { font-size: 11px; color: var(--muted); min-width: 80px; text-align: right; }
.iv-categories { display: flex; flex-direction: column; gap: 6px; }
.iv-cat-row { display: flex; align-items: center; gap: 8px; }
.iv-cat-name { font-size: 12px; font-weight: 500; min-width: 100px; }
.iv-cat-bar-wrap { flex: 1; height: 10px; background: var(--surface2); border-radius: 5px; overflow: hidden; }
.iv-cat-bar { height: 100%; background: var(--accent2); border-radius: 5px; }
.iv-cat-val { font-size: 12px; font-weight: 600; min-width: 70px; text-align: right; }
.iv-cat-margin { font-size: 10px; min-width: 40px; text-align: right; }
.iv-top-items { display: flex; flex-direction: column; gap: 4px; }
.iv-item-row { display: flex; align-items: center; gap: 8px; padding: 6px 8px; cursor: pointer; border-radius: 4px; }
.iv-item-row:hover { background: var(--surface2); }
.iv-item-name { flex: 1; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.iv-item-qty { font-size: 11px; color: var(--muted); }
.iv-item-val { font-size: 12px; font-weight: 600; color: var(--accent); }
.iv-item-days { font-size: 11px; color: var(--danger); }
.iv-slow { border-left: 3px solid var(--warn); }

/* ── SHIPPING LABELS ─────────────────────────────────────────────────────── */
.sl-rates { padding: 12px; }
.sl-rates-header { font-size: 12px; font-weight: 600; margin-bottom: 8px; }
.sl-rate-row { display: flex; align-items: center; gap: 8px; padding: 6px 8px; border-radius: 4px; font-size: 12px; }
.sl-rate-row:nth-child(even) { background: var(--surface2); }
.sl-cheapest { border-left: 3px solid var(--good); }
.sl-carrier { font-weight: 600; min-width: 50px; }
.sl-service { flex: 1; }
.sl-price { font-weight: 500; min-width: 50px; text-align: right; }
.sl-pirate { font-size: 10px; color: var(--good); min-width: 50px; text-align: right; }
.sl-days { font-size: 10px; color: var(--muted); min-width: 30px; text-align: right; }
.sl-badge { font-size: 9px; background: var(--good); color: #000; padding: 1px 6px; border-radius: 3px; font-weight: 700; }
.sl-links { display: flex; flex-direction: column; gap: 6px; margin-top: 12px; padding-top: 10px; border-top: 1px solid var(--border); }
.sl-link { font-size: 12px; color: var(--accent); text-decoration: none; }
.sl-link:hover { text-decoration: underline; }
.sl-empty { padding: 12px; text-align: center; font-size: 12px; color: var(--muted); }

/* ── MOBILE RESPONSIVE FOR PHASE 8 ──────────────────────────────────────── */
@media (max-width: 480px) {
  .comps-stats { gap: 6px; }
  .comps-stat { min-width: 50px; }
  .pt-tools { gap: 4px; }
  .pt-btn { padding: 4px 8px; font-size: 11px; }
  .pc-plat-row { flex-wrap: wrap; gap: 4px; }
  .bl-plat-grid { gap: 4px; }
  .bl-plat-chip { padding: 3px 8px; font-size: 11px; }
  .iv-cards { grid-template-columns: 1fr 1fr; }
  .sl-rate-row { flex-wrap: wrap; gap: 4px; }
}

/* ═══════════════════════════════════════════════════════════════
   PROFIT HEATMAP (GitHub-style contribution grid)
   ═══════════════════════════════════════════════════════════════ */
.heatmap-wrap {
  padding: 16px;
}
.heatmap-grid {
  display: flex;
  gap: 2px;
  overflow-x: auto;
  padding-bottom: 4px;
}
.heatmap-days {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin-right: 4px;
}
.hm-day-lbl {
  font-size: 8px;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
  height: 11px;
  line-height: 11px;
  width: 22px;
  text-align: right;
}
.hm-week {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.hm-cell {
  width: 11px;
  height: 11px;
  border-radius: 2px;
  background: var(--border);
  cursor: default;
}
.hm-cell.empty {
  background: transparent;
}
.hm-cell:hover {
  outline: 1px solid var(--muted);
  outline-offset: -1px;
}
.hm-months {
  display: flex;
  align-items: center;
  margin-top: 6px;
  font-size: 9px;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
}
.hm-legend {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 8px;
  gap: 8px;
}
.hm-stat {
  font-size: 11px;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
}
.hm-scale {
  display: flex;
  align-items: center;
  gap: 3px;
  font-size: 9px;
  color: var(--muted);
  font-family: 'DM Mono', monospace;
}
.hm-scale .hm-cell {
  width: 10px;
  height: 10px;
}

/* ═══════════════════════════════════════════════════════════════
   CSV EXPORT PANEL
   ═══════════════════════════════════════════════════════════════ */
.csv-export-panel {
  padding: 16px;
}
.csv-export-title {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  color: var(--muted);
  margin-bottom: 10px;
}
.csv-export-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 6px;
}
.csv-btn {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 10px 12px;
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  transition: border-color 0.15s, background 0.15s;
  text-align: left;
  display: flex;
  align-items: center;
  gap: 6px;
}
.csv-btn:hover { border-color: var(--accent); background: rgba(87,200,255,0.04); }
.csv-btn-secondary { color: var(--muted); }
.csv-btn-secondary:hover { color: var(--text); }
.csv-export-divider {
  height: 1px;
  background: var(--border);
  margin: 10px 0;
}

/* ═══════════════════════════════════════════════════════════════
   VERSION FOOTER
   ═══════════════════════════════════════════════════════════════ */
.ft-footer {
  text-align: center;
  padding: 24px 16px 16px;
  font-family: 'DM Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  letter-spacing: 0.5px;
  opacity: 0.6;
  border-top: 1px solid var(--border);
  margin-top: 32px;
}
.ft-footer a {
  color: var(--accent);
  text-decoration: none;
}
.ft-footer a:hover {
  text-decoration: underline;
}

/* ═══════════════════════════════════════════════════════════════
   NOTIFICATION TOGGLE
   ═══════════════════════════════════════════════════════════════ */
.notif-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
}
.notif-toggle-btn {
  background: var(--surface);
  border: 1px solid var(--border);
  color: var(--muted);
  padding: 6px 12px;
  font-family: 'DM Mono', monospace;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.15s;
}
.notif-toggle-btn.enabled {
  border-color: var(--good);
  color: var(--good);
  background: rgba(0,200,136,0.06);
}
.notif-toggle-btn:hover { border-color: var(--accent); }

@media (max-width: 600px) {
  .csv-export-grid { grid-template-columns: 1fr; }
  .hm-legend { flex-direction: column; align-items: flex-start; }
}
