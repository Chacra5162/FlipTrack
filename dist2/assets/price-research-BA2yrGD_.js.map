{"version":3,"file":"price-research-BA2yrGD_.js","sources":["../../src/features/price-research.js"],"sourcesContent":["// ‚îÄ‚îÄ PRICE RESEARCH ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\nexport function openPriceResearch(prefillUpc) {\n  document.getElementById('prOv').classList.add('on');\n  if (prefillUpc) {\n    prSwitchTab('upc');\n    document.getElementById('prUpcInput').value = prefillUpc;\n    lookupPrices();\n  } else {\n    document.getElementById('prUpcInput').value = '';\n    document.getElementById('prKwInput').value = '';\n    document.getElementById('prBody').innerHTML = `<div class=\"pr-status\">Scan a barcode, enter a UPC, or search by keyword to research comparable selling prices.</div>`;\n  }\n  setTimeout(() => {\n    const active = document.getElementById('prPanelUpc').style.display !== 'none'\n      ? document.getElementById('prUpcInput')\n      : document.getElementById('prKwInput');\n    active.focus();\n  }, 200);\n}\n\nexport function closePriceResearch() {\n  document.getElementById('prOv').classList.remove('on');\n}\n\nexport function prSwitchTab(mode) {\n  const isUpc = mode === 'upc';\n  document.getElementById('prTabUpc').classList.toggle('active', isUpc);\n  document.getElementById('prTabKw').classList.toggle('active', !isUpc);\n  document.getElementById('prPanelUpc').style.display = isUpc ? 'flex' : 'none';\n  document.getElementById('prPanelKw').style.display  = isUpc ? 'none' : 'flex';\n  document.getElementById('prBody').innerHTML = `<div class=\"pr-status\">Scan a barcode, enter a UPC, or search by keyword to research comparable selling prices.</div>`;\n  setTimeout(() => {\n    (isUpc ? document.getElementById('prUpcInput') : document.getElementById('prKwInput')).focus();\n  }, 100);\n}\n\n// Open scanner for price research\nexport function openPriceScanner() {\n  document.getElementById('prOv').classList.remove('on');\n  openScanner('__priceResearch__');\n}\n\nexport async function lookupPrices() {\n  const upc = document.getElementById('prUpcInput').value.trim().replace(/\\D/g,'');\n  if (!upc || upc.length < 6) { toast('Enter a valid UPC or EAN barcode', true); return; }\n\n  const btn = document.getElementById('prLookupBtn');\n  btn.disabled = true;\n  document.getElementById('prBody').innerHTML = `<div class=\"pr-status\"><span class=\"pr-spinner\">‚ü≥</span>Looking up UPC ${upc}‚Ä¶</div>`;\n\n  try {\n    // 1. Fetch product info from UPCitemdb (free, no key, CORS-enabled)\n    let product = null;\n    try {\n      const res  = await fetch(`https://api.upcitemdb.com/prod/trial/lookup?upc=${upc}`);\n      const data = await res.json();\n      if (data.items && data.items.length > 0) product = data.items[0];\n    } catch(e) { /* API may be unavailable ‚Äî continue without product info */ }\n\n    renderPriceResults(upc, product);\n  } catch(e) {\n    document.getElementById('prBody').innerHTML = `<div class=\"pr-status\">‚ö† Lookup failed: ${e.message}</div>`;\n  } finally {\n    btn.disabled = false;\n  }\n}\n\nexport async function lookupByKeyword() {\n  const query = document.getElementById('prKwInput').value.trim();\n  if (!query) { toast('Enter a product name or keyword', true); return; }\n\n  const btn = document.getElementById('prKwBtn');\n  btn.disabled = true;\n  document.getElementById('prBody').innerHTML = `<div class=\"pr-status\"><span class=\"pr-spinner\">‚ü≥</span>Searching for \"${query}\"‚Ä¶</div>`;\n\n  try {\n    // Try UPCitemdb keyword search endpoint\n    let results = [];\n    try {\n      const res  = await fetch(`https://api.upcitemdb.com/prod/trial/search?s=${encodeURIComponent(query)}&type=product`);\n      const data = await res.json();\n      if (data.items) results = data.items;\n    } catch(e) { /* API unavailable ‚Äî show search links only */ }\n\n    renderKeywordResults(query, results);\n  } catch(e) {\n    document.getElementById('prBody').innerHTML = `<div class=\"pr-status\">‚ö† Search failed: ${e.message}</div>`;\n  } finally {\n    btn.disabled = false;\n  }\n}\n\nexport function renderKeywordResults(query, items) {\n  const q = encodeURIComponent(query);\n\n  // Item cards from UPCitemdb\n  let itemCards = '';\n  if (items.length) {\n    itemCards = `<div class=\"pr-section-hdr\">Matching Products (${items.length})</div>`;\n    itemCards += items.slice(0, 12).map(item => {\n      const img    = (item.images || [])[0] || '';\n      const low    = item.lowest_recorded_price;\n      const high   = item.highest_recorded_price;\n      const offers = item.offers || [];\n      const lowestOffer = offers.length ? Math.min(...offers.map(o => o.price).filter(Boolean)) : null;\n      const displayPrice = lowestOffer ?? low;\n      const upcLink = item.upc ? `<button class=\"pr-price-link\" style=\"cursor:pointer;border:none;background:var(--surface2);padding:3px 8px;color:var(--muted);font-family:'DM Mono',monospace;font-size:10px\" onclick=\"document.getElementById('prUpcInput').value='${item.upc}';prSwitchTab('upc');lookupPrices()\">UPC lookup ‚Üí</button>` : '';\n      return `<div class=\"pr-price-row\" style=\"align-items:flex-start;gap:10px\">\n        ${img ? `<img src=\"${img}\" style=\"width:48px;height:48px;object-fit:contain;background:var(--surface2);border:1px solid var(--border);flex-shrink:0\" onerror=\"this.style.display='none'\">` : ''}\n        <div style=\"flex:1;min-width:0\">\n          <div class=\"pr-price-title\" style=\"white-space:normal;line-height:1.3\">${item.title || '‚Äî'}</div>\n          <div class=\"pr-price-meta\" style=\"margin-top:3px\">\n            ${item.brand ? `<span>üè∑ ${item.brand}</span> ¬∑ ` : ''}\n            ${item.upc   ? `<span>UPC: ${item.upc}</span>` : ''}\n          </div>\n          <div style=\"margin-top:6px;display:flex;gap:6px;align-items:center;flex-wrap:wrap\">\n            ${displayPrice ? `<span style=\"font-family:'Syne',sans-serif;font-weight:700;font-size:15px;color:var(--accent)\">${fmt(displayPrice)}</span>` : ''}\n            ${high && low && high !== low ? `<span style=\"font-size:10px;color:var(--muted);font-family:'DM Mono',monospace\">‚Äì ${fmt(high)}</span>` : ''}\n            ${upcLink}\n          </div>\n        </div>\n      </div>`;\n    }).join('');\n  }\n\n  // Search links\n  const searchLinks = `\n    <div class=\"pr-section-hdr\">Search Live Listings</div>\n    <div class=\"pr-search-links\">\n      <a class=\"pr-search-link\" href=\"https://www.ebay.com/sch/i.html?_nkw=${q}&LH_Sold=1&LH_Complete=1\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        eBay Sold\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.ebay.com/sch/i.html?_nkw=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        eBay Active\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.amazon.com/s?k=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Amazon\n      </a>\n      <a class=\"pr-search-link\" href=\"https://poshmark.com/search?query=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Poshmark\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.mercari.com/search/?keyword=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Mercari\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.google.com/search?q=${q}+sold+price+resell\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Google\n      </a>\n    </div>`;\n\n  document.getElementById('prBody').innerHTML = `\n    ${itemCards || `<div class=\"pr-status\" style=\"padding:24px 0 16px\">No product database matches ‚Äî use the search links below to find live prices.</div>`}\n    ${searchLinks}\n    <div style=\"height:20px\"></div>\n  `;\n}\n\nexport function renderPriceResults(upc, product) {\n  const name  = product?.title  || product?.description || `UPC ${upc}`;\n  const brand = product?.brand  || '';\n  const img   = (product?.images || [])[0] || '';\n  const msrp  = product?.highest_recorded_price || null;\n  const low   = product?.lowest_recorded_price  || null;\n  const offers = product?.offers || [];\n\n  // Build search queries\n  const q = encodeURIComponent(name || upc);\n\n  // Compile offers from UPCitemdb (live merchant prices when available)\n  let offerRows = '';\n  if (offers.length) {\n    const sorted = [...offers].sort((a,b) => (a.price||999) - (b.price||999));\n    offerRows = sorted.slice(0, 8).map(o => {\n      const price = o.price ? fmt(o.price) : '‚Äî';\n      const merchant = o.merchant || o.domain || 'Merchant';\n      const cond  = o.condition ? `¬∑ ${o.condition}` : '';\n      const link  = o.link || '#';\n      return `<div class=\"pr-price-row\">\n        <div class=\"pr-price-left\">\n          <div class=\"pr-price-title\">${merchant}</div>\n          <div class=\"pr-price-meta\"><span class=\"pr-plat-badge\">${merchant}</span> ${cond}</div>\n        </div>\n        <div class=\"pr-price-right\">\n          <div class=\"pr-price-val\">${price}</div>\n          <a class=\"pr-price-link\" href=\"${link}\" target=\"_blank\" rel=\"noopener\">View ‚Üí</a>\n        </div>\n      </div>`;\n    }).join('');\n  }\n\n  // Stats\n  let statsHtml = '';\n  if (low !== null || msrp !== null || offers.length) {\n    const avg = offers.length ? offers.reduce((s,o)=>s+(o.price||0),0)/offers.filter(o=>o.price).length : null;\n    statsHtml = `<div class=\"pr-stats-bar\">\n      <div class=\"pr-stat-cell\"><div class=\"pr-stat-lbl\">Lowest</div><div class=\"pr-stat-val\">${low ? fmt(low) : '‚Äî'}</div></div>\n      <div class=\"pr-stat-cell\"><div class=\"pr-stat-lbl\">Avg</div><div class=\"pr-stat-val\">${avg ? fmt(avg) : '‚Äî'}</div></div>\n      <div class=\"pr-stat-cell\"><div class=\"pr-stat-lbl\">Highest</div><div class=\"pr-stat-val\">${msrp ? fmt(msrp) : '‚Äî'}</div></div>\n    </div>`;\n  }\n\n  // External search links\n  const searchLinks = `\n    <div class=\"pr-section-hdr\">Search Live Listings</div>\n    <div class=\"pr-search-links\">\n      <a class=\"pr-search-link\" href=\"https://www.ebay.com/sch/i.html?_nkw=${q}&LH_Sold=1&LH_Complete=1\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        eBay Sold\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.ebay.com/sch/i.html?_nkw=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        eBay Active\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.amazon.com/s?k=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Amazon\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.poshmark.com/search?query=${q}\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Poshmark\n      </a>\n      <a class=\"pr-search-link\" href=\"https://www.google.com/search?q=${q}+sold+price+resell\" target=\"_blank\" rel=\"noopener\">\n        <svg viewBox=\"0 0 24 24\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\"/></svg>\n        Google\n      </a>\n    </div>`;\n\n  // Product card\n  const productCard = `<div class=\"pr-product-card\">\n    ${img ? `<img class=\"pr-product-img\" src=\"${img}\" alt=\"\" onerror=\"this.style.display='none'\">` : ''}\n    <div>\n      <div class=\"pr-product-name\">${name}</div>\n      <div class=\"pr-product-meta\">\n        ${brand ? `<span>üè∑ ${brand}</span>` : ''}\n        <span>üì¶ UPC: ${upc}</span>\n        ${product?.category ? `<span>¬∑ ${product.category}</span>` : ''}\n      </div>\n      ${low ? `<div class=\"pr-product-lowest\">Recorded range: <strong>${fmt(low)}</strong>${msrp ? ` ‚Äì ${fmt(msrp)}` : ''}</div>` : ''}\n    </div>\n  </div>`;\n\n  document.getElementById('prBody').innerHTML = `\n    ${productCard}\n    ${statsHtml}\n    ${offerRows ? `<div class=\"pr-section-hdr\">Current Offers</div>${offerRows}` : ''}\n    ${searchLinks}\n    <div style=\"height:20px\"></div>\n  `;\n}\n"],"names":["openPriceResearch","prefillUpc","prSwitchTab","lookupPrices","closePriceResearch","mode","isUpc","openPriceScanner","upc","btn","product","data","renderPriceResults","e","lookupByKeyword","query","results","renderKeywordResults","items","q","itemCards","item","img","low","high","offers","displayPrice","o","upcLink","searchLinks","name","brand","msrp","offerRows","a","b","price","merchant","cond","link","statsHtml","avg","s","productCard"],"mappings":"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"}